<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.17">
<meta name="description" content="Processamento Digital de Imagens (DCA0445)">
<meta name="author" content="Daciel Gomes, Marcelo Augusto, Produzido 2022">
<title>Processamento Digital de Imagens (DCA0445)</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.3/styles/github.min.css">
</head>
<body class="article toc2 toc-left data-line-1">
<div id="header">
<h1>Processamento Digital de Imagens (DCA0445)</h1>
<div class="details">
<span id="author" class="author">Daciel Gomes</span><br>
<span id="email" class="email"><a href="mailto:gomesdaciel@gmail.com" data-href="mailto:gomesdaciel@gmail.com">gomesdaciel@gmail.com</a></span><br>
<span id="author2" class="author">Marcelo Augusto</span><br>
<span id="email2" class="email"><a href="mailto:augusto.marcelo205@gmail.com" data-href="mailto:augusto.marcelo205@gmail.com">augusto.marcelo205@gmail.com</a></span><br>
<span id="author3" class="author">Produzido 2022</span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Sumário</div>
<ul class="sectlevel1">
<li><a href="#_motivação">Motivação</a></li>
<li><a href="#_1_manipulação_de_pixels">1. Manipulação de Pixels</a>
<ul class="sectlevel2">
<li><a href="#_1_1_imagem_em_negativo">1.1. Imagem em negativo</a></li>
<li><a href="#_1_2_trocar_regiões">1.2. Trocar regiões</a></li>
</ul>
</li>
<li><a href="#_2_preenchimento_de_regiões">2. Preenchimento de regiões</a>
<ul class="sectlevel2">
<li><a href="#_2_1_rotulação_de_objetos_em_imagens_em_tons_de_cinza">2.1. Rotulação de objetos em imagens em tons de cinza</a></li>
<li><a href="#_2_2_contagem_de_bolhas">2.2. Contagem de bolhas</a></li>
</ul>
</li>
<li><a href="#_3_manipulação_de_histogramas">3. Manipulação de Histogramas</a>
<ul class="sectlevel2">
<li><a href="#_3_1_equalização_de_histogramas">3.1. Equalização de Histogramas</a></li>
<li><a href="#_3_2_detecção_de_movimento">3.2. Detecção de movimento</a></li>
</ul>
</li>
<li><a href="#_4_filtragem_no_domínio_espacial_i">4. Filtragem no domínio espacial I</a>
<ul class="sectlevel2">
<li><a href="#_4_1_laplaciano_no_gaussiano">4.1. Laplaciano no Gaussiano</a></li>
</ul>
</li>
<li><a href="#_5_filtragem_no_domínio_espacial_ii">5. Filtragem no domínio espacial II</a>
<ul class="sectlevel2">
<li><a href="#_5_1_tilt_shift_em_imagem">5.1. <em>Tilt-shift</em> em imagem</a></li>
<li><a href="#_5_2_tilt_shift_em_vídeo">5.2. <em>Tilt-shift</em> em vídeo</a></li>
</ul>
</li>
<li><a href="#_6_filtragem_no_domínio_da_frequência">6. Filtragem no domínio da frequência</a></li>
<li><a href="#_7_detecção_de_bordas_com_o_algoritmo_de_canny">7. Detecção de bordas com o algoritmo de Canny</a></li>
<li><a href="#_8_quantização_vetorial_com_k_means">8. Quantização vetorial com k-means</a></li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1 data-line-11">
<h2 id="_motivação">Motivação</h2>
<div class="sectionbody">
<div class="paragraph data-line-12">
<p>Essa página tem como objetivo a demonstração de exercícios de manipulação de imagens com a utilização de Pyhton e principalmente a biblioteca do OpenCV. Desenvolvido por <a href="https://github.com/gomesdaciel" data-href="https://github.com/gomesdaciel">Daciel Gomes</a> e <a href="https://github.com/marceloaugustomn" data-href="https://github.com/marceloaugustomn">Marcelo Augusto</a>.</p>
</div>
</div>
</div>
<div class="sect1 data-line-15">
<h2 id="_1_manipulação_de_pixels">1. Manipulação de Pixels</h2>
<div class="sectionbody">
<div class="paragraph data-line-16">
<p>A primeira atividade permite o conhecimento e as primeiras modificações em características básicas das imagens, além de primeiros contatos com conceitos importantes a serem utilizados no OpenCV.</p>
</div>
<div class="paragraph data-line-18">
<p>Alguns conceitos iniciais trabalhados:</p>
</div>
<div class="ulist data-line-20">
<ul>
<li class="data-line-20">
<p>Leitura, escrita e exibição de imagens;</p>
</li>
<li class="data-line-21">
<p>Entrada e saída de dados;</p>
</li>
<li class="data-line-22">
<p>Acessar e percorrer pixels de uma imagem;</p>
</li>
<li class="data-line-23">
<p>Alterar configurações de cor do pixel;</p>
</li>
<li class="data-line-24">
<p>Alterar localizações dos pixels.</p>
</li>
</ul>
</div>
<div class="paragraph data-line-26">
<p>A partir disso, foram solicitados duas manipulações diferentes em cima de uma imagem:</p>
</div>
<div class="olist arabic data-line-28">
<ol class="arabic">
<li class="data-line-28">
<p>Que fosse possível negativar os pixels de uma imagem a partir de uma escolha feita pelo usuário dos pontos de interesse, para identificar as regiões a ser feita a modificação.</p>
</li>
<li class="data-line-29">
<p>Que fosse feita a troca das regiões da imagem de forma diagonal, quadrante 1 com quadrante 3 e quadrante 2 com quadrante 4.</p>
</li>
</ol>
</div>
<div class="paragraph data-line-31">
<p>A imagem utilizada para essa atividade foi:</p>
</div>
<div class="imageblock data-line-35">
<div class="content">
<img src="./regions/biel.png" alt="Biel original">
</div>
<div class="title">Figure 1. Imagem utilizada</div>
</div>
<div class="sect2 data-line-37">
<h3 id="_1_1_imagem_em_negativo">1.1. Imagem em negativo</h3>
<div class="paragraph data-line-38">
<p>Esse programa deverá solicitar ao usuário as coordenadas de dois pontos P1 e P2 localizados dentro dos limites do tamanho da imagem e exibir que lhe for fornecida. Entretanto, a região definida pelo retângulo de vértices opostos definidos pelos pontos P1 e P2 será exibida com o negativo da imagem na região correspondente.</p>
</div>
<div class="paragraph data-line-40">
<p>Para fazer a leitura dos pontos que servem de orientação para a modificação utilizamos o seguinte código:</p>
</div>
<div class="listingblock data-line-42">
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">x0, y0 = map(int, input('Informe as coordenadas (X, Y) do ponto P1: ').split())
x1, y1 = map(int, input('Informe as coordenadas (X, Y) do ponto P2: ').split())</code></pre>
</div>
</div>
<div class="paragraph data-line-46">
<p>O comando <em>.split()</em> separa a entrada do usuário (cada ponto separado por um espaço) em duas para o armazenamento na variável enquanto a função <em>map</em> faz com que os dados lidos em string sejam convertidos em números inteiros.</p>
</div>
<div class="paragraph data-line-48">
<p>Após isso, criamos uma função que faz o efeito esperado, ela recebe como parâmetros a imagem lida e os pontos que foram definidos pelo usuários para negativação.</p>
</div>
<div class="listingblock data-line-51">
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">def regions(image, x0, y0, x1, y1):
    for x in range(min(x0, x1), max(x0, x1)):
        for y in range(min(y0, y1), max(y0, y1)):
            image[x, y] = 255 - image[x, y]
    return image</code></pre>
</div>
</div>
<div class="paragraph data-line-59">
<p>No primeiro <em>for</em> percorremos o eixo X do menor até o maior valor dos dois pontos e no segundo <em>for</em> percorremos do menor ao maior valor no eixo Y; com esse conceito evitamos problemas ao usuários utilizar um valor menor em algum eixo ao elencar o segundo ponto. Por fim, em cada pixel dentro desse range, aplicamos o conceito da negativação da imagem que se dá pela subtração do maior tom de cinza peloo tom de cinza do pixel em questão.</p>
</div>
<div class="listingblock data-line-63">
<div class="title">Chamada da função</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">img = regions(image=cv.imread('./regions/biel.png', cv.IMREAD_GRAYSCALE), x0=x0, y0=y0, x1=x1, y1=y1)</code></pre>
</div>
</div>
<div class="paragraph data-line-67">
<p>Resultado do código para os pontos (50, 50) e (150, 200):</p>
</div>
<div class="imageblock data-line-71">
<div class="content">
<img src="./regions/biel-negativo.png" alt="Biel negativo">
</div>
<div class="title">Figure 2. Imagem negativada</div>
</div>
</div>
<div class="sect2 data-line-73">
<h3 id="_1_2_trocar_regiões">1.2. Trocar regiões</h3>
<div class="paragraph data-line-74">
<p>Atividade: "Seu programa deverá trocar os quadrantes em diagonal na imagem.". Utilizamos a mesma imagem do 1.1.</p>
</div>
<div class="paragraph data-line-76">
<p>Os primeiros passos para essa etapas foram a identificação do tamanho e da largura da imagem, junto a atribuição das suas metades que servirão de cálculo.</p>
</div>
<div class="listingblock data-line-79">
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">h, w = image.shape
cX, cY = w // 2, h // 2</code></pre>
</div>
</div>
<div class="paragraph data-line-83">
<p>O comando <em>.shape</em> retorna o tamanho e a largura da matriz, que é a imagem. Na segunda linha fazemos o cálculo da metade do tamanho e da largura na mesma imagem e atribuímos a duas variáveis</p>
</div>
<div class="paragraph data-line-85">
<p>Em seguidas, com os valores identificados, separamos a imagem em quatro "fatias" diferentes, cada uma com seu respectivo quadrante.</p>
</div>
<div class="listingblock data-line-87">
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">topLeft = image[0:cY, 0:cX]
topRight = image[0:cY, cX:w]
bottomLeft = image[cY:h, 0:cX]
bottomRight = image[cY:h, cX:w]</code></pre>
</div>
</div>
<div class="paragraph data-line-94">
<p>Por fim, a partir da biblioteca do <em>NumPy</em> e o método <em>np.concatenate()</em>, concatenamos as fatias de forma que satisfazesse a nossa necessidade de disposição.</p>
</div>
<div class="listingblock data-line-96">
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">topImage = np.concatenate((topRight, topLeft), axis=1)
bottomImage = np.concatenate((bottomRight, bottomLeft), axis=1)
outputImage = np.concatenate((bottomImage, topImage), axis=0)</code></pre>
</div>
</div>
<div class="paragraph data-line-102">
<p>Com isso, tivemos o seguinte resultado:</p>
</div>
<div class="imageblock data-line-106">
<div class="content">
<img src="./trocaregioes/biel-trocado.png" alt="Biel trocado">
</div>
<div class="title">Figure 3. Imagem trocada</div>
</div>
</div>
</div>
</div>
<div class="sect1 data-line-108">
<h2 id="_2_preenchimento_de_regiões">2. Preenchimento de regiões</h2>
<div class="sectionbody">
<div class="paragraph data-line-109">
<p>A segunda atividade pretende aumentar os conhecimentos em atividades que podem ser aplicáveis em situações comuns em trabalhos que envolvam o processamento digital das imagens.</p>
</div>
<div class="paragraph data-line-111">
<p>Com a utilização de imagens que possuam uma binaridade do tom de cinza do fundo e do objeto (fundo = "0" e imagem = "255"), identificar a quantidade de objetos em determinada imagem levando em consideração que cada aglomerado de pixels 255 será um objeto.</p>
</div>
<div class="paragraph data-line-113">
<p>Foram trabalhados os conceitos de rotulação a partir da técnica de modificação chamada <em>floodfill</em>, além da utilização de laços para percorrer todos os pixels da imagem. Somado a isso, conseguir identificar objetos com características específicas, nesse caso a identificação de bolhas com buracos.</p>
</div>
<div class="sect2 data-line-115">
<h3 id="_2_1_rotulação_de_objetos_em_imagens_em_tons_de_cinza">2.1. Rotulação de objetos em imagens em tons de cinza</h3>
<div class="paragraph data-line-116">
<p>Um dos problemas no processo de rotulação de imagens em tons de cinza é o número limite de objetos que podem ser categorizados. Uma vez que o espectro de tons de cinza de uma imagem em preto e branco varia entre 0 e 255, precisamos encontrar alternativas que nos permitam contornar as situações em que existam mais do que 255 objetos em cena.</p>
</div>
<div class="paragraph data-line-118">
<p>Uma das possíveis soluções para este problema seria adaptar o algoritmo de rotulação para o sistema de cores aditivas <em>RGB</em>, já que existem 255 níveis de cores para cada um dos três planos que compõem a cena. Por sua vez, a combinação entre os diferentes níveis de cores do sistema <em>RGB</em> permite que sejamos capazes rotular até 65.090.025 objetos em presentes em uma imagem.</p>
</div>
</div>
<div class="sect2 data-line-120">
<h3 id="_2_2_contagem_de_bolhas">2.2. Contagem de bolhas</h3>
<div class="paragraph data-line-121">
<p>Nessa etapa, veremos quais foram os passos adotados para que pudéssemos quantificar as regiões com e sem buracos internos na Figura 4.</p>
</div>
<div class="imageblock data-line-125">
<div class="content">
<img src="./labeling/bolhas.png" alt="Bolhas">
</div>
<div class="title">Figure 4. imagem utilizada</div>
</div>
<div class="paragraph data-line-126">
<p>Primeiro, removem-se as bolhas que tocam as bordas. Para isso, assume-se que os objetos que compõem na cena são formadas por pixels na cor branca. Sendo assim, percorre-se os pixels de borda e aplica-se o método <em>cv.floodFill()</em> sempre que um pixel com nível 255 é identificado.</p>
</div>
<div class="listingblock data-line-129">
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python"># Retirando as bolhas que tocam as bordas
for y in range(py):
    for x in range(px):
        if (y == 0 or x == 0 or y == (py - 1) or x == (px - 1)) and img[y, x] == 255:
            cv.floodFill(img, None, (x, y), 0)
            # Parâmetros do método: imagem, máscara (None), (altura, largura), cor (0 a 255)</code></pre>
</div>
</div>
<div class="paragraph data-line-138">
<p>O resultado dessas linhas de código pode ser observado na Figura 5.</p>
</div>
<div class="imageblock data-line-142">
<div class="content">
<img src="./labeling/sem-bolhas-de-borda.png" alt="sem bolhas de borda">
</div>
<div class="title">Figure 5. Resultado da extração das bolhas de borda</div>
</div>
<div class="paragraph data-line-144">
<p>Após a remoção das bolhas de borda, utilizamos alguns laços de repetição para varrer a imagem em busca das bolhas remanescentes.</p>
</div>
<div class="listingblock data-line-147">
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python"># Pintando as demais bolhas com tons de cinza
k = 0
for y in range(py):
    for x in range(px):
        if img[y, x] == 255:
            k = k + 1 # Propositalmente posicionado antes do método cv2.floodFill para que a bolha não seja
                      # preenchida com a cor preta (k = 0)
            cv.floodFill(img, None, (x, y), k)</code></pre>
</div>
</div>
<div class="paragraph data-line-158">
<p>Uma vez identificadas, as bolhas são pintadas com a cor cinza. As primeiras bolhas encontradas ao longo da varredura são preenchidas com tons de cinza mais próximos de 0. Por outro lado, as regiões mais abaixo são pintadas com tons de cinza mais claros, isto é, mais próximos de 255. Afim de contabilizar o número de bolhas, acrescenta-se 1 ao contador <em>k</em> sempre que uma delas é encontrada e preenchida com o método <em>cv.floodFill()</em>.</p>
</div>
<div class="imageblock data-line-162">
<div class="content">
<img src="./labeling/com-bolhas-pintadas.png" alt="com bolhas pintadas">
</div>
<div class="title">Figure 6. Bolhas rotuladas</div>
</div>
<div class="paragraph data-line-164">
<p>Por fim, preenche-se toda a região externa às bolhas com a cor branca. Após isso, percorre-se toda a matriz e aplica-se o <em>cv.floodFill()</em> nas regiões com a cor preta, que por sua vez, correspondem aos centros das bolhas. Ao contabilizarmos as ocorrências do método de <em>floodFill</em>, conseguimos obter o número de bolhas que possuem buraco.</p>
</div>
<div class="listingblock data-line-167">
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">numBolhas = 0
for y in range(py):
    for x in range(px):
        if img[y, x] == 0: # Procura pelos buracos (preenchidos com a cor preta)
            cv.floodFill(img, None, (x, y), 255)
            numBolhas = numBolhas + 1 # A variável numBolhas é incrementada sempre que o ocorre o "flood fill",
                                      # isto é, sempre que uma bolha com buraco é encontrada</code></pre>
</div>
</div>
<div class="paragraph data-line-177">
<p>Por fim, o algoritmo exibe a quantidade de bolhas e a quantidade de bolhas com buraco.</p>
</div>
<div class="listingblock data-line-180">
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">Número bolhas: 21
Número de bolhas com buracos: 7</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1 data-line-186">
<h2 id="_3_manipulação_de_histogramas">3. Manipulação de Histogramas</h2>
<div class="sectionbody">
<div class="paragraph data-line-187">
<p>O objetivo desse exercício é para aprender como mostrar e tratar histogramas de imagens com a utilização do OpenCV, somado a possibilidade de tratamento em tempo real de um vídeo capturado a partir da webcam do usuário.</p>
</div>
<div class="paragraph data-line-189">
<p>Nessa parte  do trabalho foi necesário realizar a equalização de histogramas e fazer a exibição da imagem equalizada e a identificação de movimentações a partir da comparação dos histogramas dos diferentes frames da captura da webcam.</p>
</div>
<div class="sect2 data-line-191">
<h3 id="_3_1_equalização_de_histogramas">3.1. Equalização de Histogramas</h3>

</div>
<div class="sect2 data-line-195">
<h3 id="_3_2_detecção_de_movimento">3.2. Detecção de movimento</h3>

</div>
</div>
</div>
<div class="sect1 data-line-197">
<h2 id="_4_filtragem_no_domínio_espacial_i">4. Filtragem no domínio espacial I</h2>
<div class="sectionbody">
<div class="paragraph data-line-198">
<p>No quarto exercício foram trabalhados os conceitos de convolução para a manipulação da imagem no espaço. Esse processo no processamento digital de imagens é feito a partir da utilização de máscaras com dimensão de tamanho ímpar (geralmente 3x3 ou 5x5) em que se percorre pixel a pixel utilizando os valores da matríz da máscara no pixel escolhido e na sua vizinhança.</p>
</div>
<div class="imageblock data-line-202">
<div class="content">
<img src="./laplgauss/mascaras.svg" alt="Máscaras">
</div>
<div class="title">Figure 7. Demonstração do funcionamento dos filtros</div>
</div>
<div class="paragraph data-line-204">
<p>Com esse tipo de manipulação é possível conseguir diversos resultados diferentes, como: borramento, aguçamento, detecção de borda, etc.</p>
</div>
<div class="paragraph data-line-206">
<p>Nessa etapa foi implementado um script contendo os filtros media, gaussiano, laplaciano, sobel x, sobel y e boost. Porém, para efeitos de atividade, foi utilizado apenas laplaciano e gaussiano.</p>
</div>
<div class="paragraph data-line-208">
<p>A aplicação do código foi feito para realização ao vivo das manipulações a partir das imagens obtidas pelas Webcam, mas para fazer a demonstração aqui capturamos apenas um frame:</p>
</div>
<div class="imageblock data-line-212">
<div class="content">
<img src="./laplgauss/webcam.png" alt="webcam">
</div>
<div class="title">Figure 8. Imagem utilizada para demonstração dos filtros</div>
</div>
<div class="sect2 data-line-214">
<h3 id="_4_1_laplaciano_no_gaussiano">4.1. Laplaciano no Gaussiano</h3>
<div class="paragraph data-line-215">
<p>Aplicar o filtro gaussiano na imagem e depois o filtro laplaciano. A principal ideia desse teste é para identificar a diferença de realizar <br>
No início de tudo, utilizando mais uma vez a biblioteca <em>NumPy</em>, dessa vez acompanhada pela função <em>.array()</em>, definimos os valores da matriz que compõem as máscaras que correspondem aos filtros gaussiano e laplaciano:</p>
</div>
<div class="listingblock data-line-218">
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">gauss = np.array([[0.0625, 0.125, 0.0625]
                 ,[0.125,  0.25,  0.125]
                 ,[0.0625, 0.125, 0.0625]])

laplacian = np.array([[ 0, -1,  0]
                     ,[-1,  4, -1]
                     ,[ 0, -1,  0]])</code></pre>
</div>
</div>
<div class="paragraph data-line-228">
<p>Em seguida, montamos o código que mantém a leitura das imagens produzidas pela Webcam colocando a visualização dentro de um <em>While</em> para fazer com que permaneça exibindo as imagens. Usamos a função <em>.read()</em> que retorna duas informações, a primeira um booleano com o sucesso ou não da leitura e a segunda o frame propriamente dito.{allow-uri-read}</p>
</div>
<div class="listingblock data-line-231">
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">cap = cv.VideoCapture(0)

if cap.isOpened():
    ret, frame = cap.read()
    while ret:
        ret, frame = cap.read()
        gray = cv.cvtColor(frame, cv.COLOR_BGR2GRAY)
        cv.imshow('Webcam', gray)</code></pre>
</div>
</div>
<div class="paragraph data-line-242">
<p>É possível observar que fizemos a leitura da imagem também em tons de cinza. Em seguida fizemos a aplicação do filtro laplaciano para servir de comparação com o resultado final e geramos a imagem com o filtro gaussiano que será processada posteriormente.</p>
</div>
<div class="listingblock data-line-245">
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">laplaciano = cv.filter2D(gray, -1, laplacian)
gaussiano = cv.filter2D(gray, -1, gauss)</code></pre>
</div>
</div>
<div class="paragraph data-line-250">
<p>O OpenCV tem uma função própria que serve para aplicação dos tipos de filtros que estamos tratando aqui, chamada de <em>cv.filter2D()</em>. Essa função recebe como parâmetros a imagem a ser tratada, a profundidade da imagem (por padrão, -1 retorna a nova imagem com a mesma profundidade e a máscara a ser utilziado).</p>
</div>
<div class="paragraph data-line-252">
<p>Resultados:</p>
</div>
<div class="imageblock data-line-256">
<div class="content">
<img src="./laplgauss/gaussiano.png" alt="gaussiano">
</div>
<div class="title">Figure 9. Imagem com o efeito gaussiano (borramento)</div>
</div>
<div class="imageblock data-line-260">
<div class="content">
<img src="./laplgauss/laplaciano.png" alt="laplaciano">
</div>
<div class="title">Figure 10. Imagem com o efeito laplaciano (detecção de bordas)</div>
</div>
<div class="paragraph data-line-262">
<p>Após isso, aplicamos o laplaciano em cima da imagem gerada pelo gaussiano. Dando o seguinte resultado:</p>
</div>
<div class="listingblock data-line-265">
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">laplacianoDoGaussiano = cv.filter2D(gaussiano, -1, laplacian)</code></pre>
</div>
</div>
<div class="imageblock data-line-271">
<div class="content">
<img src="./laplgauss/laplaciano-do-gaussiano.png" alt="laplaciano do gaussiano">
</div>
<div class="title">Figure 11. Imagem do laplaciano do gaussiano</div>
</div>
<div class="paragraph data-line-273">
<p>Embora possa parecer uma imagem de mais difícil visualização a olho humano, essa imagem possui menos ruídos e é melhor para fazer outras manipulações a posteriori. Isso se dá porque o borramento aplicado permite uma suavização de possíveis falsos contornos, evitando que eles apareçam ao uilizar o laplaciano atual, por isso a imagem fica melhor.</p>
</div>
</div>
</div>
</div>
<div class="sect1 data-line-275">
<h2 id="_5_filtragem_no_domínio_espacial_ii">5. Filtragem no domínio espacial II</h2>
<div class="sectionbody">
<div class="paragraph data-line-276">
<p>Seguindo com a utilização da filtragem em domínio espacial, foi explorado uma aplicação desses filtros para a criação de efeitos visuais interessantes, como o <em>tilt-shift</em>.</p>
</div>
<div class="paragraph data-line-278">
<p>O <em>tilt-shift</em> se configura como o borramento de duas áreas de uma imagem para dar a impressão de que o que está sendo exibido entre os borramentos é uma miniatura, ou uma maquete. Alguns parâmetros que podem ser modificados são: inclinação do borramento, altura do borramento, tamanho da área entre os borrados e força da transição.</p>
</div>
<div class="sect2 data-line-280">
<h3 id="_5_1_tilt_shift_em_imagem">5.1. <em>Tilt-shift</em> em imagem</h3>
<div class="paragraph data-line-281">
<p>Para definir os parâmetros citados acima utilizamos quatro trackbars para que o usuário pudesse fazer a visualização e adequação de acordo com a imagem que estava querendo modificar.</p>
</div>
<div class="listingblock data-line-285">
<div class="title">Uma função de callback</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">def callback(x): return None</code></pre>
</div>
</div>
<div class="listingblock data-line-291">
<div class="title">TrackBars</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">cv.createTrackbar('l1', 'Controllers', 0, 100, callback)
cv.createTrackbar('l2',  'Controllers', 0, 100, callback)
cv.createTrackbar('d', 'Controllers', 0, 100, callback)
cv.createTrackbar('ksize', 'Controllers', 0, 100, callback)</code></pre>
</div>
</div>
<div class="paragraph data-line-297">
<p>A função <em>cv.createTrackbrar()</em> recebe como parâmetros, nessa ordem: Nome da trackbar, a janela que a trackbar estará inclusa, valor mínimo, valor máximo, callback vazio para preencher a função.</p>
</div>
<div class="paragraph data-line-299">
<p>No nosso código criamos uma função para servir de base para o realização das manipulações feitas pelo <em>tilt-shift</em>.</p>
</div>
<div class="listingblock data-line-302">
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">def tilt_shift(image, l1, l2, d, ksize=2):

    height = np.arange(image.shape[0], dtype=np.float32)

    if d == 0:
        alpha = (1/2)*(np.tanh((height - l1)/(1e-10)) -
                       np.tanh((height - l2)/(1e-10)))
    else:
        alpha = (1/2)*(np.tanh((height - l1)/(d)) - np.tanh((height - l2)/(d)))

    mask = np.repeat(alpha, image.shape[1])
    # Redimensiona a máscara para que ela tenha as mesmas dimensões da imagem
    # Cria uma máscara/matriz de colunas iguais a alpha
    mask = mask.reshape(image.shape[:2])

    # Verifica se a imagem está no sistema de cores RGB
    if len(image.shape) == 3:
        # Converte a cor da máscara
        mask = cv.cvtColor(mask, cv.COLOR_GRAY2BGR)

    # Define a máscara do filtro gaussiano
    kernel = (ksize * 2 + 1, ksize * 2 + 1)
    # Aplica o filtro gaussiano
    blur = cv.GaussianBlur(image, kernel, 0)

    # Retorna a imagem após a aplicação da técnica
    return cv.convertScaleAbs(image * mask + blur * (1 - mask))</code></pre>
</div>
</div>
<div class="listingblock data-line-334">
<div class="title">Uma função de ponderação</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">def add_weighted(x, y):
    return ((y * x)/100)</code></pre>
</div>
</div>
<div class="paragraph data-line-340">
<p>Após criar todas as estruturas que serão utilizadas para as manipulações desejadas abrimos um laço <em>While</em> que fazia a leitura da imagem original e mostrava sempre a imagem de saída de acordo com os parâmetros setados pelo usuário na barra de valores.</p>
</div>
<div class="listingblock data-line-343">
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">while True:

    # Recebe a imagem de entrada
    input_img = cv.imread('./tiltshift/img6.jpg')
    # Redimensiona a imagem proporcionalmente através da função image_resize() do módulo resize
    input_img = resize.image_resize(input_img, height=600)

    # Recebe os valores da barra de rolagem
    l1 = cv.getTrackbarPos('l1', 'Controllers')
    l2 = cv.getTrackbarPos('l2', 'Controllers')
    d = cv.getTrackbarPos('d', 'Controllers')
    ksize = cv.getTrackbarPos('ksize', 'Controllers')

    # Aplica a função de ponderação
    l1 = add_weighted(x=l1, y=(input_img.shape[0]))
    l2 = add_weighted(x=l2, y=(input_img.shape[0]))
    # Cria a janela de foco
    l2 = l1 + l2

    # Aplica a técnica de tilt shift
    output_img = tilt_shift(image=input_img, l1=l1, l2=l2, d=d, ksize=ksize)
    # Exibe a imagem de saída
    cv.imshow('Output Image', output_img)
    if cv.waitKey(1) == ord('q'): # retorna um número inteiro representando o ponto de código Unicode desse caractere
        # Salva a imagem final
        cv.imwrite('./tiltshift/tilt-shifted.jpg', output_img)
        break</code></pre>
</div>
</div>
<div class="paragraph data-line-373">
<p>A função <em>resize</em> foi feita internamente, recebendo como parâmetro a imagem desejada e o tamanho definido em código.</p>
</div>
</div>
<div class="sect2 data-line-375">
<h3 id="_5_2_tilt_shift_em_vídeo">5.2. <em>Tilt-shift</em> em vídeo</h3>

</div>
</div>
</div>
<div class="sect1 data-line-377">
<h2 id="_6_filtragem_no_domínio_da_frequência">6. Filtragem no domínio da frequência</h2>
<div class="sectionbody">
<div class="paragraph data-line-378">
<p>Em breve</p>
</div>
</div>
</div>
<div class="sect1 data-line-380">
<h2 id="_7_detecção_de_bordas_com_o_algoritmo_de_canny">7. Detecção de bordas com o algoritmo de Canny</h2>
<div class="sectionbody">
<div class="paragraph data-line-381">
<p>Em breve</p>
</div>
</div>
</div>
<div class="sect1 data-line-383">
<h2 id="_8_quantização_vetorial_com_k_means">8. Quantização vetorial com k-means</h2>
<div class="sectionbody">
<div class="paragraph data-line-384">
<p>Em breve</p>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2022-05-31 09:51:37 -0300
</div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.3/highlight.min.js"></script>
<script>
if (!hljs.initHighlighting.called) {
  hljs.initHighlighting.called = true
  ;[].slice.call(document.querySelectorAll('pre.highlight > code')).forEach(function (el) { hljs.highlightBlock(el) })
}
</script>
</body>
</html>